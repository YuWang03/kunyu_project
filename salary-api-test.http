### 薪資查詢 API 測試檔案
### 這個檔案包含三支薪資查詢相關 API 的測試範例

@baseUrl = http://localhost:5112
@tokenid = 53422421
@cid = 45624657
@uid = 0325

###
# 1. 薪資查詢驗證碼寄送
# POST /app/sendcode
# 功能：
# - 查詢使用者的 Email
# - 產生 4 位數驗證碼並儲存到資料庫
# - 發送驗證碼到使用者信箱
# - 驗證碼 5 分鐘後失效
POST {{baseUrl}}/app/sendcode
Content-Type: application/json

{
  "tokenid": "{{tokenid}}",
  "cid": "{{cid}}",
  "uid": "{{uid}}"
}

###
# 2. 薪資查詢驗證碼驗證
# POST /app/sendcodecheck
# 功能：
# - 驗證使用者輸入的 4 位數驗證碼
# - 檢查是否在 5 分鐘有效期內
# - 萬用測試驗證碼：0000（不需從信箱取得，直接驗證成功）
# 注意：請先執行上面的 sendcode API 取得驗證碼，然後將驗證碼填入下方
POST {{baseUrl}}/app/sendcodecheck
Content-Type: application/json

{
  "tokenid": "{{tokenid}}",
  "cid": "{{cid}}",
  "uid": "{{uid}}",
  "verificationcode": "1234"
}

###
# 2-1. 使用萬用測試驗證碼（0000）
# 測試用途：方便測試，不需從信箱取得驗證碼
POST {{baseUrl}}/app/sendcodecheck
Content-Type: application/json

{
  "tokenid": "{{tokenid}}",
  "cid": "{{cid}}",
  "uid": "{{uid}}",
  "verificationcode": "0000"
}

###
# 3. 薪資查詢明細
# POST /app/salaryview
# 功能：查詢指定年月的薪資明細（包含薪資結構、加項、減項、出勤記錄）
POST {{baseUrl}}/app/salaryview
Content-Type: application/json

{
  "tokenid": "{{tokenid}}",
  "cid": "{{cid}}",
  "uid": "{{uid}}",
  "querydate": "2025-09"
}

###
# 測試案例：參數驗證 - 缺少必填欄位 tokenid
POST {{baseUrl}}/app/sendcode
Content-Type: application/json

{
  "cid": "{{cid}}",
  "uid": "{{uid}}"
}

###
# 測試案例：參數驗證 - 缺少必填欄位 verificationcode
POST {{baseUrl}}/app/sendcodecheck
Content-Type: application/json

{
  "tokenid": "{{tokenid}}",
  "cid": "{{cid}}",
  "uid": "{{uid}}"
}

###
# 測試案例：錯誤的驗證碼
POST {{baseUrl}}/app/sendcodecheck
Content-Type: application/json

{
  "tokenid": "{{tokenid}}",
  "cid": "{{cid}}",
  "uid": "{{uid}}",
  "verificationcode": "9999"
}

###
# 測試案例：查詢不同月份的薪資
POST {{baseUrl}}/app/salaryview
Content-Type: application/json

{
  "tokenid": "{{tokenid}}",
  "cid": "{{cid}}",
  "uid": "{{uid}}",
  "querydate": "2025-10"
}

###
# 4. 教育訓練查詢明細
# POST /app/eduview
# 功能：
# - 依年度查詢教育訓練明細
# - 只能查詢近三年
# - 包含課程類別、課程名稱、課程時數
# - 提供年度總時數統計
# 注意：目前為 Mock 實作，回傳固定範例資料
POST {{baseUrl}}/app/eduview
Content-Type: application/json

{
  "tokenid": "{{tokenid}}",
  "cid": "{{cid}}",
  "uid": "{{uid}}",
  "queryyear": "2025"
}

###
# 測試案例：查詢不同年份的教育訓練
POST {{baseUrl}}/app/eduview
Content-Type: application/json

{
  "tokenid": "{{tokenid}}",
  "cid": "{{cid}}",
  "uid": "{{uid}}",
  "queryyear": "2024"
}
